# 更新日志 - 版本 1.43

## 🎙️ **录音器架构全面重构**
1. **流式转录支持**：录音器完全重新设计，支持实时流式转录功能
2. **状态机实现**：全新的录音器状态机，提供更稳健的会话管理和输入处理
3. **动态刘海录音器集成**：为录音器打造全新美观设计，现在是带有流式转录显示的刘海录音器
4. **实时音频可视化**：重新设计的可视化器，具备动态效果和实时音频响应
5. **刘海录音器优化**：采用 boring.notch 风格设计，动画更流畅，文本对齐更准确，时序问题得到修复

## ⌨️ **高级热键与输入控制系统**
3. **双模式热键触发**：可切换的热键触发控制 - 长按进入听写模式 或 双击激活
4. **F5 听写覆盖**：完整的 F5 功能键支持，热键触发不再局限于修饰键
5. **热键冲突解决**：智能的冲突检测和解决系统
6. **功能键支持**：热键系统完整修复，包含权限 UI 和功能键支持
7. **键盘快捷键捕获**：抗崩溃的快捷键捕获系统，支持 F5 键处理
8. **按键音效反馈**：为按键交互添加了音频反馈

## 🔄 **WebSocket 与流式传输可靠性大幅提升**
2. **ASR 流式传输增强**：WebSocket 重试和弹性机制的重大改进
   - 单次连接管理，防止重复连接
   - 连接生命周期强化，状态管理更恰当
   - 预录音 WebSocket 准备，启动更快速
   - 恢复保护机制和缓冲状态管理
   - 快速取消实现，消除取消时的延迟
8. **ASR 延迟优化**：条件性 250ms 音频缓冲等待，响应时间更短
9. **性能提升**：增强 AI 服务的可靠性改进和连接持久化

## 🔐 **身份验证与引导流程**
5. **Google 社交认证**：集成 Google 登录，简化认证流程
6. **增强引导流程**：全面改进的新用户引导体验，权限处理更友好
7. **专业版引导**：增强的设置流程，用户体验和权限管理更完善
8. **引导音频管理器**：新用户引导过程中的专用音频管理

## 🌐 **国际化与无障碍功能**
- **完整本地化**：键盘快捷键部分和模态 UI 完全本地化
- **中日韩文字标准化**：添加中文、日文、韩文文本处理工具
- **UI 组件改进**：跨语言的快捷键捕获和录音可视化效果更佳

## 🎨 **UI/UX 体验优化**
- **设置界面重设计**：设置界面大幅改进
- **悬停效果**：听写语言下拉菜单添加悬停效果
- **模态样式**：改进模态样式和热键显示格式
- **应用焦点可靠性**：修复从菜单栏操作时应用焦点不可靠的问题
- **试用期过期系统**：使用新模态实现重构

## 🔧 **开发体验与测试**
- **全面测试**：添加 RecorderStateMachine 单元测试，包含 256 个测试用例
- **错误文档**：详尽的错误报告和文档改进
- **性能基准测试**：ASR 基准测试更新，提供者实现更准确
- **调试日志**：增强的日志系统，减少噪音，分类更清晰

## 🚀 **性能与稳定性**
- **内存管理**：改进音频文件处理和清理机制
- **连接弹性**：稳健的 WebSocket 连接处理，支持自动恢复
- **状态同步**：所有组件的状态管理更恰当
- **快速操作**：优化转录管道，延迟更低

---

**发布日期**：2025 年 8 月  
**构建版本**：1.43  
**兼容性**：macOS 14.0+


