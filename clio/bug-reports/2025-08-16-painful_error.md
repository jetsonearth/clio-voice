âœ… [NER-SETUP] OCR completion callback configured for NER pre-warming - callback exists: true
ğŸ™ï¸ [RECORD PERMISSION DEBUG] Permission granted: true
ğŸ™ï¸ [RECORD PERMISSION DEBUG] Thread: <_NSMainThread: 0x600002e84040>{number = 1, name = main}
ğŸ™ï¸ [RECORD PERMISSION DEBUG] Time since app launch: 0.00s
ğŸ”„ [AUTH_REFRESH] Session still valid for 58 minutes
ğŸ™ï¸ [ASYNC TASK DEBUG] Starting async recording task...
ğŸ™ï¸ [ASYNC TASK DEBUG] Task thread: <_NSMainThread: 0x600002e84040>{number = 1, name = main}
ğŸ™ï¸ [ASYNC TASK DEBUG] Re-evaluating model for language settings...
ğŸ™ï¸ [ASYNC TASK DEBUG] Model type: soniox-realtime-streaming, isStreaming: true
ğŸ™ï¸ [SONIOX DEBUG] Starting Soniox streaming transcription...
ğŸ™ï¸ [SONIOX DEBUG] Calling wakeAudioSystemIfNeeded()...
ğŸ™ï¸ [SONIOX DEBUG] Calling sonioxStreamingService.startStreaming()...
ğŸ“Š [SESSION] Starting recording session #9
âœ… Selected account account-bundle (connections: 1/10)
ğŸ¬ [CAPTURE DEBUG] Starting smart screen context capture
ğŸ” [CALLBACK DEBUG] onOCRCompleted callback exists: true
ğŸ¯ ScreenCapture detected frontmost app: Warp (dev.warp.Warp-Stable)
ğŸ¯ Found matching window: ~/clio-project/Clio (Warp) - layer:0, pid:656
ğŸ¯ ScreenCapture found window: ~/clio-project/Clio (Warp) - matches PowerMode detection
ğŸ”„ [CACHE] Context changed - invalidating cache
ğŸ”„ [CACHE]   Old: com.apple.dt.Xcode|Clio â€” TempKeyCache.swift
ğŸ”„ [CACHE]   New: dev.warp.Warp-Stable|~/clio-project/Clio
ğŸ”„ [CACHE]   BundleID Match: false
ğŸ”„ [CACHE]   Title Match: false
ğŸ”„ [CACHE]   Content Hash: Old=cf35f4b2... New=cf35f4b2...
ğŸ¬ Starting screen capture with verified permissions
ğŸš€ Starting Clio streaming transcription
ğŸ¯ ScreenCapture detected frontmost app: Warp (dev.warp.Warp-Stable)
ğŸ¯ Found matching window: ~/clio-project/Clio (Warp) - layer:0, pid:656
ğŸ¯ ScreenCapture found window: ~/clio-project/Clio (Warp) - matches PowerMode detection
ğŸ¯ Found window: ~/clio-project/Clio (Warp)
ğŸ¯ ScreenCapture detected frontmost app: Warp (dev.warp.Warp-Stable)
ğŸ¯ Found matching window: ~/clio-project/Clio (Warp) - layer:0, pid:656
ğŸ¯ ScreenCapture found window: ~/clio-project/Clio (Warp) - matches PowerMode detection
ğŸ–¼ï¸ Attempting window-specific capture for: ~/clio-project/Clio (ID: 2201)
ğŸ”Š Setting up audio engine...
âœ… Successfully captured window: 3840.000000x2110.000000
ğŸŒ [LANG DEBUG] Multi-language setting exists: true, Single language: en
ğŸŒ [LANG DEBUG] Using multi-language selection (prioritized): zh, en
ğŸŒ [OCR DEBUG] Selected languages from settings: zh, en
ğŸŒ [OCR DEBUG] User selection mode - prioritizing non-English: zh-Hans, en-US
ğŸŒ Using selected languages for OCR: zh-Hans, en-US
throwing -10877
throwing -10877
ğŸ§¹ [TAP CLEANUP] Removing any existing taps before installation
âœ… [TAP CLEANUP] Successfully removed existing tap
ğŸ§ [AUDIO INPUT] Using device id=104 name=MacBook Pro Microphone
ğŸ¤ Detected hardware format: 48000.000000Hz, 1 channels
ğŸ¯ [TAP INSTALL] Installing new audio tap with format: 48000.000000Hz
âœ… [TAP INSTALL] Audio tap installed successfully
âœ… Audio engine configured successfully
â±ï¸ [TIMING] Audio engine setup completed
â±ï¸ [TIMING] Audio capture started - buffering until WebSocket ready
ğŸ¥ [AUDIO HEALTH] Health monitoring timer started
ğŸ™ï¸ [SONIOX DEBUG] Soniox streaming started successfully!
â±ï¸ [TIMING] mic_engaged @ 1755327592.630
â±ï¸ [TIMING] WebSocket connection established - flushing buffered audio
pass
ğŸ” [DYNAMIC NOTCH DEBUG] Showed notch in compact mode
âœ… [AUDIO HEALTH] First audio data received - tap is functional
ğŸŒ [PATH] Network path changed (status=satisfied) â€“ triggering recovery
â¹ï¸ Keepalive timer stopped
ğŸ”Œ [WS] Disconnected (socketId=sock_-5399504320679147753@attempt_33)
âš ï¸ WebSocket did close with code 1001 (sid=sock_-5399504320679147753, attemptId=33)
ğŸ”„ [RECOVERY] Attempting mid-recording recovery
â¹ï¸ Keepalive timer stopped
ğŸ”Œ [WS] Disconnected (socketId=)
ğŸŒ [CONNECT] Attempt #34 (loop 1/3) startingâ€¦
âš¡ [CACHE-HIT] Retrieved temp key in 0.1ms
â±ï¸ [TIMING] Temp key obtained in 0.1ms
ğŸ”Š [SONIOX DEBUG] Config updated with endpoint_detection enabled
ğŸ”Š [SONIOX DEBUG] Full config: enable_endpoint_detection=true, model=stt-rt-preview-v2, language_hints=Optional(["zh", "en"])
ğŸŒ [WS CONNECT] Using URL: wss://stt-rt.soniox.com/transcribe-websocket
ğŸ”— [WS] Bound socket id=sock_-5640287119461833844@attempt_34
ğŸ”‘ Successfully connected to Soniox using temp key (0ms key latency)
ğŸŒ [CONNECT] New single-flight request from sendFailure
ğŸŒ [CONNECT] Attempt #35 (loop 1/3) startingâ€¦
ğŸŒ [CONNECT] Attempt #35 failed: URL session not configured
âš ï¸ WebSocket connect failed (attempt 1). Retrying in 500msâ€¦
âš¡ [CACHE-HIT] Retrieved temp key in 0.0ms
â±ï¸ [TIMING] Temp key obtained in 0.1ms
ğŸ”Š [SONIOX DEBUG] Config updated with endpoint_detection enabled
ğŸ”Š [SONIOX DEBUG] Full config: enable_endpoint_detection=true, model=stt-rt-preview-v2, language_hints=Optional(["en", "zh"])
ğŸŒ [WS CONNECT] Using URL: wss://stt-rt.soniox.com/transcribe-websocket
ğŸ”— [WS] Bound socket id=sock_-6978804373839925711@attempt_35
ğŸ”‘ Successfully connected to Soniox using temp key (0ms key latency)
â³ [CONNECT-TIMEOUT] Readiness not signaled within 12s â€” aborting connect (attempt=34)
â¹ï¸ Keepalive timer stopped
ğŸ”Œ [WS] Disconnected (socketId=sock_-6978804373839925711@attempt_35)
ğŸŒ [CONNECT] Attempt #35 failed: URL session not configured
âš ï¸ WebSocket connect failed (attempt 1). Retrying in 500msâ€¦
ğŸ” Found 67 text observations
âœ… Text extraction successful: 3083 chars, 3083 non-whitespace, 399 words from 67 observations
âœ… Captured text successfully
âœ… [CAPTURE DEBUG] Screen capture successful: 3152 characters
ğŸ¯ ScreenCapture detected frontmost app: Warp (dev.warp.Warp-Stable)
ğŸ¯ Found matching window: ~/clio-project/Clio (Warp) - layer:0, pid:656
ğŸ¯ ScreenCapture found window: ~/clio-project/Clio (Warp) - matches PowerMode detection
ğŸ’¾ [SMART-CACHE] Cached new context: dev.warp.Warp-Stable|~/clio-project/Clio (3152 chars)
ğŸ¯ [CALLBACK DEBUG] Executing callback with fresh content (3152 chars)
ğŸ”¥ [NER-TRIGGER] OCR completion callback triggered with fresh content
ğŸ”¥ [NER-PREWARM] Triggering NER pre-warming with OCR text (3152 chars)
ğŸ”¥ [PREWARM DEBUG] prewarmConnection() called - isEnhancementEnabled: true, isConfigured: true
ğŸ”¥ [PREWARM DEBUG] connectionState: cold
ğŸ”¥ [PREWARM DEBUG] Pre-warming AI connection (target: Gemini), environment: flyio
ğŸ›©ï¸ [FLY.IO PREWARM] Starting Fly.io NER pre-warming (forced refresh)
ğŸ›©ï¸ [FLY.IO-NER] sendFlyioWarmingRequest() called - starting NER processing (Gemini warmup)
ğŸ¬ [NER-PREWARM] Using raw OCR text for NER: 3152 characters
ğŸ›©ï¸ [FLY.IO-NER] OCR text retrieved for NER processing: 3152 characters
ğŸ§  [NER-DEFAULT] Using default NER prompt for general extraction
ğŸŒ [CONNECT] Attempt #36 (loop 2/3) startingâ€¦
âš¡ [CACHE-HIT] Retrieved temp key in 0.2ms
â±ï¸ [TIMING] Temp key obtained in 0.6ms
ğŸ”Š [SONIOX DEBUG] Config updated with endpoint_detection enabled
ğŸ”Š [SONIOX DEBUG] Full config: enable_endpoint_detection=true, model=stt-rt-preview-v2, language_hints=Optional(["en", "zh"])
ğŸŒ [WS CONNECT] Using URL: wss://stt-rt.soniox.com/transcribe-websocket
ğŸ”— [WS] Bound socket id=sock_-13187194349602552@attempt_36
ğŸ”‘ Successfully connected to Soniox using temp key (1ms key latency)
ğŸŒ [CONNECT] Attempt #37 (loop 2/3) startingâ€¦
ğŸŒ [CONNECT] Attempt #37 failed: URL session not configured
âš ï¸ WebSocket connect failed (attempt 2). Retrying in 1000msâ€¦
âš¡ [CACHE-HIT] Retrieved temp key in 0.2ms
â±ï¸ [TIMING] Temp key obtained in 0.5ms
ğŸ”Š [SONIOX DEBUG] Config updated with endpoint_detection enabled
ğŸ”Š [SONIOX DEBUG] Full config: enable_endpoint_detection=true, model=stt-rt-preview-v2, language_hints=Optional(["en", "zh"])
ğŸŒ [WS CONNECT] Using URL: wss://stt-rt.soniox.com/transcribe-websocket
ğŸ”— [WS] Bound socket id=sock_7113200048990540914@attempt_37
ğŸ”‘ Successfully connected to Soniox using temp key (0ms key latency)
â³ [CONNECT-TIMEOUT] Readiness not signaled within 12s â€” aborting connect (attempt=36)
â¹ï¸ Keepalive timer stopped
ğŸ”Œ [WS] Disconnected (socketId=sock_7113200048990540914@attempt_37)
ğŸŒ [CONNECT] Attempt #37 failed: URL session not configured
âš ï¸ WebSocket connect failed (attempt 2). Retrying in 1000msâ€¦
ğŸ¤– [FLY.IO-NER] Server-reported provider: gemini
ğŸ“¥ [NER-STORE] Stored NER entities: 116 chars - **People:**
* Agent

**Organizations:**
* Peak XV

**Products:**
* Clio
* Warp
* GPT-5

**Projects:*...
ğŸ›©ï¸ [FLY.IO-NER] Pre-warming completed in 965ms - NER entities extracted
âœ… [FLY.IO] NER refresh completed successfully
ğŸ”Œ WebSocket did open (sid=sock_-5640287119461833844, attemptId=37)
â„¹ï¸ didOpen for stale socket â€“ ignoring and canceling stale task
âš ï¸ WebSocket did close with code 1001 (sid=sock_-5640287119461833844, attemptId=37)
ğŸ”„ [RECOVERY] Attempting mid-recording recovery
â¹ï¸ Keepalive timer stopped
ğŸ”Œ [WS] Disconnected (socketId=)
ğŸŒ [CONNECT] Attempt #38 (loop 3/3) startingâ€¦
âš¡ [CACHE-HIT] Retrieved temp key in 0.2ms
â±ï¸ [TIMING] Temp key obtained in 0.5ms
ğŸ”Š [SONIOX DEBUG] Config updated with endpoint_detection enabled
ğŸ”Š [SONIOX DEBUG] Full config: enable_endpoint_detection=true, model=stt-rt-preview-v2, language_hints=Optional(["zh", "en"])
ğŸŒ [WS CONNECT] Using URL: wss://stt-rt.soniox.com/transcribe-websocket
ğŸ”— [WS] Bound socket id=sock_-4968803089378212867@attempt_38
ğŸ”‘ Successfully connected to Soniox using temp key (1ms key latency)
ğŸ” [CONNECT] Coalesced request from sendFailure onto in-flight attempt #38
ğŸŒ [CONNECT] Attempt #39 (loop 3/3) startingâ€¦
ğŸŒ [CONNECT] Attempt #39 failed: URL session not configured
âŒ WebSocket connection failed after 3 attempts: URL session not configured
âŒ Path-change recovery failed: URL session not configured
ğŸ›‘ Stopping Clio streaming transcription
ğŸ¥ [AUDIO HEALTH] Health monitoring timer stopped
â³ WebSocket not ready yet - waiting up to 10 seconds to avoid losing audio
âš¡ [CACHE-HIT] Retrieved temp key in 0.2ms
â±ï¸ [TIMING] Temp key obtained in 0.5ms
ğŸ”Š [SONIOX DEBUG] Config updated with endpoint_detection enabled
ğŸ”Š [SONIOX DEBUG] Full config: enable_endpoint_detection=true, model=stt-rt-preview-v2, language_hints=Optional(["zh", "en"])
ğŸŒ [WS CONNECT] Using URL: wss://stt-rt.soniox.com/transcribe-websocket
ğŸ”— [WS] Bound socket id=sock_7962686050539553937@attempt_39
ğŸ”‘ Successfully connected to Soniox using temp key (1ms key latency)
â³ [CONNECT-TIMEOUT] Readiness not signaled within 12s â€” aborting connect (attempt=38)
â¹ï¸ Keepalive timer stopped
ğŸ”Œ [WS] Disconnected (socketId=sock_7962686050539553937@attempt_39)
ğŸŒ [CONNECT] Attempt #39 failed: URL session not configured
âŒ WebSocket connection failed after 3 attempts: URL session not configured
âŒ Recovery connect failed: URL session not configured
âŒ Recovery connect failed: URL session not configured
ğŸ”Œ WebSocket did open (sid=sock_-13187194349602552, attemptId=39)
â„¹ï¸ didOpen for stale socket â€“ ignoring and canceling stale task
âš ï¸ WebSocket did close with code 1001 (sid=sock_-13187194349602552, attemptId=39)
ğŸ”„ [RECOVERY] Attempting mid-recording recovery
â¹ï¸ Keepalive timer stopped
ğŸ”Œ [WS] Disconnected (socketId=)
ğŸŒ [CONNECT] New single-flight request from sendFailure
ğŸŒ [CONNECT] Attempt #40 (loop 1/3) startingâ€¦
âš¡ [CACHE-HIT] Retrieved temp key in 0.2ms
â±ï¸ [TIMING] Temp key obtained in 0.5ms
ğŸ”Š [SONIOX DEBUG] Config updated with endpoint_detection enabled
ğŸ”Š [SONIOX DEBUG] Full config: enable_endpoint_detection=true, model=stt-rt-preview-v2, language_hints=Optional(["zh", "en"])
ğŸŒ [WS CONNECT] Using URL: wss://stt-rt.soniox.com/transcribe-websocket
ğŸ”— [WS] Bound socket id=sock_-5162069232765121207@attempt_40
ğŸ”‘ Successfully connected to Soniox using temp key (1ms key latency)
ğŸ”Œ WebSocket did open (sid=sock_-4968803089378212867, attemptId=40)
â„¹ï¸ didOpen for stale socket â€“ ignoring and canceling stale task
âš ï¸ WebSocket did close with code 1001 (sid=sock_-4968803089378212867, attemptId=40)
ğŸ”„ [RECOVERY] Attempting mid-recording recovery
â¹ï¸ Keepalive timer stopped
ğŸŒ [CONNECT] Attempt #40 failed: URL session not configured
âš ï¸ WebSocket connect failed (attempt 1). Retrying in 500msâ€¦
ğŸ”Œ [WS] Disconnected (socketId=sock_-5162069232765121207@attempt_40)
ğŸ” [CONNECT] Coalesced request from sendFailure onto in-flight attempt #40
ğŸŒ [CONNECT] Attempt #41 (loop 2/3) startingâ€¦
âš¡ [CACHE-HIT] Retrieved temp key in 0.1ms
â±ï¸ [TIMING] Temp key obtained in 0.3ms
ğŸ”Š [SONIOX DEBUG] Config updated with endpoint_detection enabled
ğŸ”Š [SONIOX DEBUG] Full config: enable_endpoint_detection=true, model=stt-rt-preview-v2, language_hints=Optional(["en", "zh"])
ğŸŒ [WS CONNECT] Using URL: wss://stt-rt.soniox.com/transcribe-websocket
ğŸ”— [WS] Bound socket id=sock_-4516082040875666018@attempt_41
ğŸ”‘ Successfully connected to Soniox using temp key (0ms key latency)
ğŸ“¦ Buffer growing: 50 packets (160000 bytes)
ğŸ”Œ WebSocket did open (sid=sock_-4516082040875666018, attemptId=41)
ğŸŒ [CONNECT] Attempt #41 succeeded
ğŸ“¤ [START] Sent start/config text frame (attemptId=41, socketId=sock_-4516082040875666018@attempt_41, start_text_sent=true)
ğŸ”Œ [READY] attemptId=41 socketId=sock_-4516082040875666018@attempt_41 start_text_sent=true
ğŸ”Œ WebSocket ready after 5776ms - buffered 5.1s of audio
ğŸŒ SLOW CONNECTION: 5.8s (possibly VPN-related)
ğŸ“¦ Flushing 51 buffered packets (5.1s of audio, 163200 bytes)
ğŸ“¤ Sent buffered packet 0/51 seq=5 size=3200
ğŸ“¤ Sending text frame seq=0
ğŸ“¤ Sent buffered packet 50/51 seq=55 size=3200
âœ… Buffer flush complete
â¹ï¸ Keepalive timer stopped
ğŸ”„ Keepalive timer started (interval: 15.000000s)
ğŸ‘‚ [LISTENER] Starting listener task for socketId=sock_-4516082040875666018@attempt_41 attemptId=41
âœ… WebSocket became ready after 3341ms - proceeding with finalization
âœ… [TAP CLEANUP] Successfully removed tap during stop
ğŸ“¤ Sent end-of-stream signal
ğŸ“¤ Sent manual finalize command
ğŸ• Using finalization timeout: 2000ms (connection took 5944ms)
ğŸ Received <fin> token - finalization complete
âœ… Received <fin> token after 870ms
â¹ï¸ Keepalive timer stopped
ğŸ“‰ Released connection for account account-bundle (connections: 0)
ğŸ’¾ [COLD-START] Updated successful streaming timestamp
âœ… Streaming stopped. Final transcript (35 chars, 6.8s, with audio file): "Stagnant robust retry or something?"